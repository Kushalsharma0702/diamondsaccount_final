2026-01-11 03:37:42,334 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-01-11 03:37:42,334 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-11 03:37:42,637 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-01-11 03:37:42,638 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-11 03:37:43,298 INFO sqlalchemy.engine.Engine select current_schema()
2026-01-11 03:37:43,298 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-11 03:37:43,640 INFO sqlalchemy.engine.Engine select current_schema()
2026-01-11 03:37:43,640 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-11 03:37:44,266 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-01-11 03:37:44,266 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-11 03:37:44,761 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-01-11 03:37:44,762 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-11 03:37:44,994 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-11 03:37:45,003 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:45,003 INFO sqlalchemy.engine.Engine [generated in 0.00064s] ('admin_users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:45,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-11 03:37:45,528 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:45,528 INFO sqlalchemy.engine.Engine [generated in 0.00085s] ('admin_users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:45,739 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:45,739 INFO sqlalchemy.engine.Engine [cached since 0.737s ago] ('clients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:45,981 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:45,981 INFO sqlalchemy.engine.Engine [cached since 0.979s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:46,226 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:46,227 INFO sqlalchemy.engine.Engine [cached since 1.224s ago] ('payments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:46,297 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:46,297 INFO sqlalchemy.engine.Engine [cached since 0.7699s ago] ('clients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:46,489 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:46,489 INFO sqlalchemy.engine.Engine [cached since 1.487s ago] ('audit_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:46,551 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:46,552 INFO sqlalchemy.engine.Engine [cached since 1.024s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:46,741 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:46,741 INFO sqlalchemy.engine.Engine [cached since 1.739s ago] ('cost_estimates', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:46,806 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:46,806 INFO sqlalchemy.engine.Engine [cached since 1.278s ago] ('payments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:46,986 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:46,986 INFO sqlalchemy.engine.Engine [cached since 1.984s ago] ('notes', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:47,062 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:47,062 INFO sqlalchemy.engine.Engine [cached since 1.534s ago] ('audit_logs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:47,225 INFO sqlalchemy.engine.Engine COMMIT
2026-01-11 03:37:47,316 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:47,316 INFO sqlalchemy.engine.Engine [cached since 1.789s ago] ('cost_estimates', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:47,586 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2026-01-11 03:37:47,586 INFO sqlalchemy.engine.Engine [cached since 2.058s ago] ('notes', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2026-01-11 03:37:47,930 INFO sqlalchemy.engine.Engine COMMIT
2026-01-11 03:37:48,729 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-11 03:37:48,754 INFO sqlalchemy.engine.Engine SELECT admin_users.id, admin_users.email, admin_users.name, admin_users.password_hash, admin_users.role, admin_users.permissions, admin_users.avatar, admin_users.is_active, admin_users.created_at, admin_users.updated_at, admin_users.last_login_at 
FROM admin_users 
 LIMIT $1::INTEGER
2026-01-11 03:37:48,754 INFO sqlalchemy.engine.Engine [generated in 0.00028s] (1,)
2026-01-11 03:37:49,326 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-11 03:37:49,370 INFO sqlalchemy.engine.Engine SELECT admin_users.id, admin_users.email, admin_users.name, admin_users.password_hash, admin_users.role, admin_users.permissions, admin_users.avatar, admin_users.is_active, admin_users.created_at, admin_users.updated_at, admin_users.last_login_at 
FROM admin_users 
 LIMIT $1::INTEGER
2026-01-11 03:37:49,370 INFO sqlalchemy.engine.Engine [generated in 0.00044s] (1,)
2026-01-11 03:37:50,658 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-11 03:37:51,348 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-11 03:37:51,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-11 03:37:51,932 INFO sqlalchemy.engine.Engine 
                    INSERT INTO clients (
                        id, name, email, phone, filing_year, status, payment_status,
                        total_amount, paid_amount, created_at, updated_at
                    )
                    SELECT
                        u.id,
                        TRIM(CONCAT(u.first_name, ' ', u.last_name)) AS name,
                        LOWER(u.email) AS email,
                        u.phone,
                        $1 AS filing_year,
                        'documents_pending' AS status,
                        'pending' AS payment_status,
                        0.0 AS total_amount,
                        0.0 AS paid_amount,
                        NOW() AS created_at,
                        NOW() AS updated_at
                    FROM users u
                    LEFT JOIN clients c
                        ON LOWER(c.email) = LOWER(u.email) AND c.filing_year = $1
                    WHERE c.id IS NULL
                    
2026-01-11 03:37:51,932 INFO sqlalchemy.engine.Engine [generated in 0.00084s] (2026,)
2026-01-11 03:37:52,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-11 03:37:52,487 INFO sqlalchemy.engine.Engine 
                    INSERT INTO clients (
                        id, name, email, phone, filing_year, status, payment_status,
                        total_amount, paid_amount, created_at, updated_at
                    )
                    SELECT
                        u.id,
                        TRIM(CONCAT(u.first_name, ' ', u.last_name)) AS name,
                        LOWER(u.email) AS email,
                        u.phone,
                        $1 AS filing_year,
                        'documents_pending' AS status,
                        'pending' AS payment_status,
                        0.0 AS total_amount,
                        0.0 AS paid_amount,
                        NOW() AS created_at,
                        NOW() AS updated_at
                    FROM users u
                    LEFT JOIN clients c
                        ON LOWER(c.email) = LOWER(u.email) AND c.filing_year = $1
                    WHERE c.id IS NULL
                    
2026-01-11 03:37:52,487 INFO sqlalchemy.engine.Engine [generated in 0.00043s] (2026,)
2026-01-11 03:37:52,735 INFO sqlalchemy.engine.Engine COMMIT
2026-01-11 03:37:53,369 INFO sqlalchemy.engine.Engine COMMIT
